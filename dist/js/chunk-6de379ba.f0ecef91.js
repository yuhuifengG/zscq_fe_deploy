(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6de379ba"],{"003b":function(e,t,s){},6316:function(e,t,s){},"8dec":function(e,t,s){"use strict";var a=s("003b"),n=s.n(a);n.a},9201:function(e,t,s){"use strict";var a=s("6316"),n=s.n(a);n.a},a417:function(e,t,s){"use strict";s.d(t,"n",(function(){return c})),s.d(t,"a",(function(){return l})),s.d(t,"l",(function(){return u})),s.d(t,"g",(function(){return d})),s.d(t,"G",(function(){return m})),s.d(t,"m",(function(){return p})),s.d(t,"d",(function(){return f})),s.d(t,"D",(function(){return g})),s.d(t,"x",(function(){return y})),s.d(t,"y",(function(){return h})),s.d(t,"e",(function(){return b})),s.d(t,"w",(function(){return v})),s.d(t,"p",(function(){return S})),s.d(t,"i",(function(){return w})),s.d(t,"v",(function(){return M})),s.d(t,"c",(function(){return T})),s.d(t,"f",(function(){return k})),s.d(t,"k",(function(){return x})),s.d(t,"B",(function(){return I})),s.d(t,"h",(function(){return N})),s.d(t,"C",(function(){return O})),s.d(t,"j",(function(){return C})),s.d(t,"E",(function(){return j})),s.d(t,"u",(function(){return L})),s.d(t,"A",(function(){return B})),s.d(t,"s",(function(){return R})),s.d(t,"b",(function(){return D})),s.d(t,"q",(function(){return $})),s.d(t,"t",(function(){return F})),s.d(t,"o",(function(){return q})),s.d(t,"z",(function(){return _})),s.d(t,"r",(function(){return z})),s.d(t,"F",(function(){return E}));var a=s("5530"),n=s("b775"),r=s("4328"),o=s.n(r),i={notice:{getAll:"/sysNotice/show",editNotice:"/sysNotice/edit",deletNotice:"/sysNotice/delete",addNotice:"/sysNotice/add",viewNotice:"/sysNotice/view",editView:"sysNotice/editView",downLoad:"sysNotice/download",homeList:"sysNotice/home"},subsystem:{open:"/subsystem/open",selectById:"/subsystem/selectById",update:"/subsystem/update",show:"/subsystem/show",logo:"/subsystem/logo",clearTestData:"/subsystem/clearTestData"},sms:{show:"/system/sms/show",openOrClose:"/system/sms/openOrClose",delete:"/system/sms/delete",selectById:"/system/sms/selectById",add:"/system/sms/add",update:"/system/sms/update"},sysMsg:{sysMsgTemplate:{selectById:"/sysMsgTemplate/selectById",add:"/sysMsgTemplate/add",showList:"/sysMsgTemplate/showList",update:"/sysMsgTemplate/update",delete:"/sysMsgTemplate/delete",createMsg:"/sms-sign-template/create",editMsg:"/sms-sign-template/edit",seeDetail:"/sms-sign-template/detail",deleteMsg:"/sms-sign-template/delete",showMsgList:"/sms-sign-template/show",downloadMsg:"/sms-sign-template/download",startSendBatchSms:"/sms-sign-template/startSendBatchSms"},shortMsg:{list:"/sms-send/list",save:"/sms-send/save",export:"/sms-send/export",saveBatch:"/sms-send/saveBatch",queryMsg:"/sms-send/queryMsg",sendMsg:"/sms-send/reply"}},sysMail:{addTemplate:"/sysMsgTemplate/add",showList:"sysMsgTemplate/showList",searchRecipient:"/sysMails/searchRecipient",selectTemplateById:"/sysMsgTemplate/selectById",saveSendMail:"/sysMails/saveSendMail",queryMailsByMTI:"/sysMails/queryMailsByMTI",view:"/sysMails/view"}};function c(e){return Object(n["b"])({url:i.notice.getAll,method:"get",params:e})}function l(e){return Object(n["b"])({url:i.notice.addNotice,method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}})}function u(e){return Object(n["b"])({data:e,url:i.notice.editNotice,method:"post",headers:{"Content-Type":"multipart/form-data"}})}function d(e){return Object(n["b"])({url:i.notice.deletNotice,method:"DELETE",params:{noticeId:e}})}function m(e){return Object(n["b"])({url:i.notice.viewNotice,method:"get",params:{noticeId:e}})}function p(e){return Object(n["b"])({url:i.notice.editView,method:"get",params:{noticeId:e}})}function f(e){var t="",s=e.get("id");return t=s?i.subsystem.update:i.subsystem.open,n["b"].post(t,e,{headers:{"Content-Type":"multipart/form-data"}})}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return e||(e={}),n["b"].get(i.subsystem.show,{params:Object(a["a"])({},e,{pageNum:t,pageSize:s})})}function y(e){return n["b"].get(i.subsystem.selectById,{params:{id:e}})}function h(e){return n["b"].get(i.subsystem.logo,{params:{id:e},responseType:"arraybuffer"})}function b(e){return n["b"].get(i.subsystem.clearTestData,{params:{id:e}})}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return n["b"].get(i.sms.show,{params:{pageNum:e,pageSize:t}})}function S(e,t){return e instanceof Array||(e=[e]),n["b"].post(i.sms.openOrClose,e,{headers:{"Content-Type":"application/json"},params:{state:t}})}function w(e){return n["b"].post(i.sms.delete,e,{headers:{"Content-Type":"application/json"}})}function M(e){return n["b"].get(i.sms.selectById,{params:{id:e}})}function T(e){var t="";return t=e&&e.id?i.sms.update:i.sms.add,n["b"].post(t,e)}function k(e){return Object(n["b"])({url:i.sysMsg.sysMsgTemplate.createMsg,method:"post",data:o.a.stringify(e)})}function x(e){return Object(n["b"])({url:i.sysMsg.sysMsgTemplate.editMsg,method:"post",data:o.a.stringify(e)})}function I(e){return Object(n["b"])({url:i.sysMsg.sysMsgTemplate.seeDetail,method:"get",params:e})}function N(e){return Object(n["b"])({url:i.sysMsg.sysMsgTemplate.deleteMsg,method:"get",params:e})}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return Object(n["b"])({url:i.sysMsg.sysMsgTemplate.showMsgList,method:"get",params:{pageNum:e,pageSize:t}})}function C(e){return Object(n["b"])({url:i.sysMsg.sysMsgTemplate.downloadMsg,method:"get",params:e,responseType:"blob"})}function j(e){return Object(n["b"])({url:i.sysMsg.sysMsgTemplate.startSendBatchSms,method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}})}function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return null!==e&&void 0!==e||(e={}),n["b"].get(i.sysMsg.shortMsg.list,{params:Object(a["a"])({},e,{pageNum:t,pageSize:s})})}function B(e){return n["b"].post(i.sysMsg.shortMsg.save,o.a.stringify(e))}function R(e,t){return n["b"].get(i.sysMsg.shortMsg.queryMsg,{params:{receivePhone:e}})}function D(e){var t="";return t=(e&&e.id,i.sysMail.addTemplate),n["b"].post(t,e)}function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return n["b"].get(i.sysMail.showList,{params:{pageNum:e,pageSize:t,type:200}})}function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return n["b"].get(i.sysMail.searchRecipient,{params:{deptName:e,pageNum:t,pageSize:s,chooseId:a}})}function q(e){return n["b"].get(i.sysMail.selectTemplateById,{params:{id:e}})}function _(e,t){return null!==t&&void 0!==t||(t={}),t["Contetnt-type"]="multipart/form-data",n["b"].post(i.sysMail.saveSendMail,e,{})}function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return n["b"].get(i.sysMail.queryMailsByMTI,{params:{msgTemplateId:e,pageNum:t,pageSize:s}})}function E(e){return n["b"].get(i.sysMail.view,{params:{mailId:e}})}},ac60:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("a-card",{style:{height:"100%"},attrs:{bordered:!1}},[s("div",{staticClass:"table-page-search-wrapper"},[s("a-form",{attrs:{layout:"inline"}},[s("a-row",{attrs:{gutter:48}},[s("a-col",{attrs:{md:6,sm:24}},[s("a-form-item",{attrs:{label:"组织机构名称："}},[s("a-input",{attrs:{placeholder:"请输入",allowClear:""},model:{value:e.queryParam.systemName,callback:function(t){e.$set(e.queryParam,"systemName",t)},expression:"queryParam.systemName"}})],1)],1),s("a-col",{attrs:{md:6,sm:24}},[s("a-button",{attrs:{type:"primary"},on:{click:e.getAllData}},[e._v("查询")])],1)],1)],1)],1),s("div",{staticClass:"table-operator"},[s("div",{staticClass:"tabLeft"},[s("a-button",{attrs:{type:"primary"},on:{click:e.addFn}},[e._v("新增")]),s("a-button",{attrs:{type:"danger"},on:{click:e.deleteFn}},[e._v("删除")]),s("a-button",{attrs:{type:"primary"},on:{click:e.saveWorkFlowConfig}},[e._v("保存")])],1)]),s("s-table",{ref:"table",attrs:{columns:e.columns,order:"true",data:e.loadData,rowKey:"systemId","row-selection":{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange},loading:e.isLoadingData},scopedSlots:e._u([{key:"applyState",fn:function(t,a){return s("span",{},[s("a-switch",{on:{click:function(t){return e.updatedTimeFn(a)}},model:{value:a.applyState,callback:function(t){e.$set(a,"applyState",t)},expression:"record.applyState"}})],1)}},{key:"contractState",fn:function(t,a){return s("span",{},[s("a-switch",{on:{click:function(t){return e.updatedTimeFn(a)}},model:{value:a.contractState,callback:function(t){e.$set(a,"contractState",t)},expression:"record.contractState"}})],1)}},{key:"alterState",fn:function(t,a){return s("span",{},[s("a-switch",{on:{click:function(t){return e.updatedTimeFn(a)}},model:{value:a.alterState,callback:function(t){e.$set(a,"alterState",t)},expression:"record.alterState"}})],1)}},{key:"processState",fn:function(t,a){return s("span",{},[s("a-switch",{on:{click:function(t){return e.updatedTimeFn(a)}},model:{value:a.processState,callback:function(t){e.$set(a,"processState",t)},expression:"record.processState"}})],1)}},{key:"acceptanceState",fn:function(t,a){return s("span",{},[s("a-switch",{on:{click:function(t){return e.updatedTimeFn(a)}},model:{value:a.acceptanceState,callback:function(t){e.$set(a,"acceptanceState",t)},expression:"record.acceptanceState"}})],1)}}])})],1),s("a-modal",{staticStyle:{top:"15px"},attrs:{title:"新增工作流",destroyOnClose:"",width:"900px",visible:e.visible,confirmLoading:e.confirmLoading,maskClosable:!1,afterClose:e.clearData},on:{ok:e.handleOk,cancel:e.handleCancel}},[s("a-form-model",{ref:"form",attrs:{model:e.formModel,rules:e.rules,"label-col":{span:4},"wrapper-col":{span:20}}},[s("a-row",[s("a-col",{staticStyle:{padding:"10px 25px"},attrs:{span:24}},[s("a-form-model-item",{attrs:{label:"组织机构名称",prop:"systemId"}},[s("a-select",{staticStyle:{width:"100%"},attrs:{"show-search":"","filter-option":e.filterOption,"label-in-value":""},model:{value:e.formModel.systemId,callback:function(t){e.$set(e.formModel,"systemId",t)},expression:"formModel.systemId"}},e._l(e.deptNameList,(function(t){return s("a-select-option",{key:t.id,attrs:{disabled:e.getDisabled(t.id),value:t.id}},[e._v(e._s(t.deptName))])})),1)],1)],1),e._l(e.formModel.module,(function(t){return s("a-col",{key:t.title,staticStyle:{padding:"10px 25px"},attrs:{span:8}},[s("a-form-model-item",{attrs:{label:t.title,"label-col":{span:12},"wrapper-col":{span:12}}},[s("a-switch",{model:{value:t.value,callback:function(s){e.$set(t,"value",s)},expression:"item.value"}})],1)],1)}))],2)],1)],1)],1)},n=[],r=(s("a623"),s("4de4"),s("4160"),s("c975"),s("45fc"),s("b64b"),s("159b"),s("96cf"),s("1da1")),o=s("f36f"),i=s("a417"),c=s("ab09"),l=s("cd3f"),u=s.n(l),d=s("c1df"),m=s.n(d),p={name:"UserList",components:{STable:c["a"]},data:function(){return{columns:[{title:"组织机构名称",align:"center",width:"200px",dataIndex:"systemName"},{title:"立项模块",width:"100px",dataIndex:"applyState",scopedSlots:{customRender:"applyState"}},{title:"合同模块",dataIndex:"contractState",width:"100px",scopedSlots:{customRender:"contractState"}},{title:"变更模块",width:"100px",dataIndex:"alterState",scopedSlots:{customRender:"alterState"}},{title:"实施模块",width:"100px",dataIndex:"processState",scopedSlots:{customRender:"processState"}},{title:"验收模块",width:"100px",dataIndex:"acceptanceState",scopedSlots:{customRender:"acceptanceState"}}],isLoadingData:!1,dataSource:[],queryParam:{},visible:!1,confirmLoading:!1,selectedRowKeys:[],selectedRows:[],formModel:{module:{applyState:{title:"立项模块",value:!1},contractState:{title:"合同模块",value:!1},alterState:{title:"变更模块",value:!1},processState:{title:"实施模块",value:!1},acceptanceState:{title:"验收模块",value:!1}}},deptNameList:[],rules:{systemId:[{required:!0,message:"请选择组织机构名称",trigger:"change"}]},userInfo:{}}},created:function(){this.userInfo=this.$ls.get("USER_INFO")},methods:{loadData:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){var a,n,r,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a={id:"6db085c77bcb480785e74587a175e776"},s.next=3,Object(o["k"])(a);case 3:return n=s.sent,t.dataSource=t.reverseBoolean(n.data),r=t.dataSource.filter((function(e){var s=!0;return Object.keys(t.queryParam).every((function(a){if(t.queryParam[a]&&e[a].indexOf(t.queryParam[a])<0)return s=!1,!1})),s})),i={data:r,totalCount:r.length,pageNo:e.pageNo},s.abrupt("return",i);case 8:case"end":return s.stop()}}),s)})))()},getAllData:function(){this.$refs.table.refresh()},saveWorkFlowConfig:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoadingData=!0,s=e.reverseBoolean(e.dataSource),t.next=5,Object(o["p"])(s);case 5:a=t.sent,a&&a.success?(e.$notification.success({message:"保存成功",description:a.msg}),e.getAllData()):e.$notification.warning({message:"保存失败",description:a.msg}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),e.$notification.error({message:"保存失败",description:t.t0.message});case 12:return t.prev=12,e.isLoadingData=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,9,12,15]])})))()},reverseBoolean:function(e){var t=u()(e);return t.forEach((function(e){Object.keys(e).forEach((function(t,s){"boolean"===typeof e[t]&&(e[t]=!e[t])}))})),t},addFn:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.confirmLoading=!0,e.visible=!0,t.next=5,Object(i["D"])({},1,100);case 5:s=t.sent,s&&s.success?e.deptNameList=s.data.records:e.$notification.warning({message:"提示",description:s.msg}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),e.$notification.error({message:"错误",description:t.t0.message});case 12:return t.prev=12,e.confirmLoading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,9,12,15]])})))()},handleOk:function(){var e=this;this.$refs.form.validate((function(t){if(t){e.visible=!1;var s={acceptanceState:e.formModel.module.acceptanceState.value,alterState:e.formModel.module.alterState.value,applyState:e.formModel.module.applyState.value,contractState:e.formModel.module.contractState.value,processState:e.formModel.module.processState.value,systemId:e.formModel.systemId.key,systemName:e.formModel.systemId.label,updatedBy:e.userInfo.id,updatedTime:e.getNowTime()};e.dataSource.unshift(s),e.saveWorkFlowConfig()}else e.$notification.warning({message:"提示",description:"页面验证失败，请检查页面必填项"})}))},clearData:function(){this.formModel={module:{applyState:{title:"立项模块",value:!1},contractState:{title:"合同模块",value:!1},alterState:{title:"变更模块",value:!1},processState:{title:"实施模块",value:!1},acceptanceState:{title:"验收模块",value:!1}}},this.selectedRowKeys=[],this.selectedRows=[]},handleCancel:function(){this.visible=!1},getDisabled:function(e){var t=this.dataSource.some((function(t){return t.systemId===e}));return t},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t},deleteFn:function(){var e=this;this.$confirm({title:"警告",content:"确定要删除吗?",okText:"删除",okType:"danger",cancelText:"取消",onOk:function(){e.dataSource=e.dataSource.filter((function(t){return e.selectedRowKeys.indexOf(t.systemId)<0})),e.saveWorkFlowConfig()}})},getNowTime:function(){return m()().format("YYYY-MM-DD HH:mm:ss.SSS")},updatedTimeFn:function(e){e.updatedBy=this.userInfo.id,e.updatedTime=this.getNowTime()},filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>-1}}},f=p,g=(s("9201"),s("8dec"),s("2877")),y=Object(g["a"])(f,a,n,!1,null,"10acf5c0",null);t["default"]=y.exports}}]);