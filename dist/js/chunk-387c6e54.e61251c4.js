(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-387c6e54"],{"0249":function(t,e,a){"use strict";var o=a("372f"),r=a.n(o);r.a},"372f":function(t,e,a){},"55cc":function(t,e,a){"use strict";var o=a("dd99"),r=a.n(o);r.a},"67ea":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"researchTask"},[t._m(0),a("a-form-model",{ref:"addForm1",attrs:{model:t.formModel,layout:"inline"}},[a("a-row",{staticClass:"rowRight"},[a("a-col",{attrs:{md:24,sm:24}},[a("a-form-model-item",{attrs:{label:"知识产权对应的课题合同(任务书)编号",prop:"contractNo"}},[a("a-input",{model:{value:t.formModel.contractNo,callback:function(e){t.$set(t.formModel,"contractNo",e)},expression:"formModel.contractNo"}})],1)],1),a("a-col",{attrs:{md:24,sm:24}},[a("a-form-model-item",{attrs:{label:"知识产权对应的课题合同(任务书)名称",prop:"contractNo"}},[a("a-input",{model:{value:t.formModel.contractName,callback:function(e){t.$set(t.formModel,"contractName",e)},expression:"formModel.contractName"}})],1)],1),a("a-col",{attrs:{md:24,sm:24}},[a("a-form-model-item",{attrs:{label:"知识产权类型",prop:"contractNo"}},[a("a-select",{model:{value:t.formModel.intellectualPropertyType,callback:function(e){t.$set(t.formModel,"intellectualPropertyType",e)},expression:"formModel.intellectualPropertyType"}},t._l(t.propType,(function(e){return a("a-select-option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])})),1)],1)],1),a("a-col",{attrs:{md:24,sm:24}},[a("a-form-model-item",{attrs:{label:"申请事项",prop:"contractNo"}},[a("a-select",{model:{value:t.formModel.application,callback:function(e){t.$set(t.formModel,"application",e)},expression:"formModel.application"}},t._l(t.appliCtion,(function(e){return a("a-select-option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])})),1)],1)],1),a("a-col",{attrs:{md:24,sm:24}},[a("a-form-model-item",{attrs:{label:"申请说明",prop:"contractNo"}},[a("a-input",{model:{value:t.formModel.applicationDescription,callback:function(e){t.$set(t.formModel,"applicationDescription",e)},expression:"formModel.applicationDescription"}})],1)],1),a("a-col",{attrs:{md:24,sm:24}},[a("a-form-model-item",{attrs:{label:"申请表填写",prop:"contractNo"}},[a("a-col",{attrs:{md:22,sm:24}},[a("a-input",{model:{value:t.formModel.applicant,callback:function(e){t.$set(t.formModel,"applicant",e)},expression:"formModel.applicant"}}),t.formModel.applicant?a("p",{staticStyle:{margin:"0"}},[a("span",{staticStyle:{color:"#40a9ff",cursor:"pointer"},on:{click:function(e){return t.dowloadfile(t.applicant.applicantFormId)}}},[t._v(t._s(t.formModel.applicant))]),a("a-icon",{staticStyle:{"margin-left":"15px"},attrs:{type:"close-circle"},on:{click:function(e){return e.stopPropagation(),t.deletefile(t.applicant.applicantFormId,"applicant")}}})],1):t._e()],1),a("a-col",{attrs:{md:2,sm:24}},[a("a-button",{staticClass:"mr20",attrs:{type:"primary"},on:{click:function(e){return t.upload("applicant")}}},[t._v("上传")])],1)],1)],1),a("a-col",{attrs:{md:24,sm:24}},[a("a-form-model-item",{attrs:{label:"需国铁集团填写的材料清单说明",prop:"contractNo"}},[a("a-col",{attrs:{md:22,sm:24}},[a("a-input",{model:{value:t.formModel.materials,callback:function(e){t.$set(t.formModel,"materials",e)},expression:"formModel.materials"}}),t.formModel.materials?a("p",{staticStyle:{margin:"0"}},[a("span",{staticStyle:{color:"#40a9ff",cursor:"pointer"},on:{click:function(e){return t.dowloadfile(t.materials.materialsId)}}},[t._v(t._s(t.formModel.materials))]),a("a-icon",{staticStyle:{"margin-left":"15px"},attrs:{type:"close-circle"},on:{click:function(e){return e.stopPropagation(),t.deletefile(t.materials.materialsId,"materials")}}})],1):t._e()],1),a("a-col",{attrs:{md:2,sm:24}},[a("a-button",{staticClass:"mr20",attrs:{type:"primary"},on:{click:function(e){return t.upload("materials")}}},[t._v("上传")])],1)],1)],1),a("a-col",{attrs:{md:24,sm:24}},[a("a-form-model-item",{attrs:{label:"材料上传",prop:"contractNo"}},[a("a-col",{attrs:{md:22,sm:24}},[a("a-input",{model:{value:t.formModel.material,callback:function(e){t.$set(t.formModel,"material",e)},expression:"formModel.material"}}),t.formModel.material?a("p",{staticStyle:{margin:"0"}},[a("span",{staticStyle:{color:"#40a9ff",cursor:"pointer"},on:{click:function(e){return t.dowloadfile(t.material.materialUploadId)}}},[t._v(t._s(t.formModel.material))]),a("a-icon",{staticStyle:{"margin-left":"15px"},attrs:{type:"close-circle"},on:{click:function(e){return e.stopPropagation(),t.deletefile(t.material.materialUploadId,"material")}}})],1):t._e()],1),a("a-col",{attrs:{md:2,sm:24}},[a("a-button",{staticClass:"mr20",attrs:{type:"primary"},on:{click:function(e){return t.upload("material")}}},[t._v("上传")])],1)],1)],1),a("a-col",{attrs:{md:24,sm:24}},[a("a-form-model-item",{attrs:{label:"材料返还",prop:"contractNo"}},[a("a-col",{attrs:{md:22,sm:24}},[a("a-input",{model:{value:t.formModel.returnfile,callback:function(e){t.$set(t.formModel,"returnfile",e)},expression:"formModel.returnfile"}}),t.formModel.returnfile?a("p",{staticStyle:{margin:"0"}},[a("span",{staticStyle:{color:"#40a9ff",cursor:"pointer"},on:{click:function(e){return t.dowloadfile(t.returnfile.materialReturnId)}}},[t._v(t._s(t.formModel.returnfile))]),a("a-icon",{staticStyle:{"margin-left":"15px"},attrs:{type:"close-circle"},on:{click:function(e){return e.stopPropagation(),t.deletefile(t.returnfile.materialReturnId,"returnfile")}}})],1):t._e()],1),a("a-col",{attrs:{md:2,sm:24}},[a("a-button",{staticClass:"mr20",attrs:{type:"primary"},on:{click:function(e){return t.upload("returnfile")}}},[t._v("上传")])],1)],1)],1)],1)],1),a("div",{staticClass:"btn-box"},[a("a-button",{directives:[{name:"debounce",rawName:"v-debounce",value:t.handleComplete,expression:"handleComplete"}],staticClass:"mr40",attrs:{type:"primary"}},[t._v("保存")]),a("a-button",{on:{click:t.handleCancel}},[t._v("取消")])],1),a("UploadPopup",{ref:"UploadPopup",on:{getuploadinfo:t.getuploadinfo}})],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"blueTitle"},[a("span",[t._v("报奖申请补助及其它")])])}],n=a("5530"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-modal",{staticClass:"table-page-form-wrapper classifyFormEdit",attrs:{title:t.modalTitle,width:"500px",footer:null},model:{value:t.modalAll.editTimeModal,callback:function(e){t.$set(t.modalAll,"editTimeModal",e)},expression:"modalAll.editTimeModal"}},[a("a-upload",{attrs:{accept:".doc,.docx,.ppt,.pptx,.pdf",showUploadList:!1,multiple:!1,"before-upload":t.onBeforeUpload}},[t.formModalEdit.annexName?a("a",{staticStyle:{cursor:"pointer"}},[t._v(t._s(t.formModalEdit.annexName))]):a("div",[a("a-button",{attrs:{icon:"upload"}},[t._v("上传文档")]),a("span",{staticStyle:{"margin-left":"10px",color:"#1890ff"}},[t._v("请上传以下格式的文件：.doc .docx .ppt .pptx .pdf")])],1)]),a("div",{staticClass:"btn-box"},[a("a-button",{directives:[{name:"debounce",rawName:"v-debounce",value:t.submit,expression:"submit"}]},[t._v("确认")]),a("a-button",{staticClass:"w120",on:{click:t.cancelClickEdit}},[t._v("取消")])],1)],1)],1)},i=[],c=(a("b0c0"),a("0974")),d={data:function(){return{modalTitle:"上传文件",modalAll:{editTimeModal:!1},formModalEdit:{},pdfFile:"",moreflag:!1,fileobj:{}}},methods:{show:function(t,e){t&&(this.formModalEdit.index=t.id),this.formModalEdit.annexName="",this.pdfFile="",this.modalAll.editTimeModal=!0},cancelClickEdit:function(){this.modalAll.editTimeModal=!1},onBeforeUpload:function(t){return this.pdfFile=t,this.formModalEdit=Object.assign({},this.formModalEdit,{annexName:t.name}),!1},submit:function(){var t=this,e={},a=new FormData;a.append("multipartFile",this.pdfFile),a.append("moduleName","intellectual"),Object(c["i"])(a).then((function(a){a.success&&(e=a.data,e.uid=t.formModalEdit.index,t.$emit("getuploadinfo",e,t.formModalEdit.index),t.modalAll.editTimeModal=!1)}))}}},s=d,m=(a("55cc"),a("2877")),p=Object(m["a"])(s,l,i,!1,null,"7f2104b8",null),u=p.exports,f=(a("a15b"),a("b775")),y=(a("4328"),{contract:{contractTable:"/contractConfig/list",queryContractConfigBaseInfo:"/contractConfig/queryContractConfigBaseInfo",getOrganizationAll:"/system/dept/queryDeptListByAll",saveContractBasicFiledDefineInfo:"/contractConfig/saveContractBasicFiledDefineInfo",contractConfigUnitList:"/contractConfig/contractConfigUnitList",modelList:"/contractConfig/modelList",modelDelete:"/contractConfig/modelDelete",updateUsingState:"/contractConfig/updateUsingState",queryModelMultiplexList:"/contractConfig/queryModelMultiplexList",queryModelList:"/contractGenerate/queryVersionTemplateInfo",echoExtendSize:"/contractGenerate/echoExtendSize",queryModelListPreview:"/contractConfig/queryModelListPreview",queryModelListByTemplateId:"/contractConfig/queryModelListByTemplateId",addFunds:"/contractConfig/contractBudget",editFunds:"/contractConfig/updateContractBudget",getContentByID:"/contractConfig/budget/content",queryFundMultiplexSize:"/contractConfig/queryFundMultiplexSize",echoExtendSizeAndValues:"/contractGenerate/echoExtendSizeAndValues",saveModelMultiplexList:"/contractConfig/cloneFieldTemplate",queryDeptListByTerm:"/system/dept/queryDeptListByAll",getAllUsers:"/system/userinfo/fuzzySearchByUserInput",showSubDeptTreeCondition:"contractConfig/queryFormalUnit",contractGenerate:"/contractGenerate/list",generatePopupList:"/contractGenerate/generatePopupList",contractWrite:"/contractWrite/list",generateSync:"/contractGenerate/generateSync",generateDelete:"/contractGenerate/generateDelete",saveContractInfo:"/contractGenerate/saveContractInfo",getDictionaryByMainId:"/system/dictionaryDetail/getDictionaryByMainId",processView:"/contractWrite/processView",downloadContractFundsTemplate:"/contractWrite/downloadContractFundsTemplate",allotPlanImport:"/contractGenerate/allotPlan/import",reportList:"/contractWrite/reportList",addDocument:"/document/add",editDocument:"/document/edit",deleteDocument:"/document/delete2",docControl:"/contract/doc/control",contractFillInCheck:"/contractGenerate/contractFillInCheck",verificationContractBasicInfo:"/contractWrite/verification",generateIssue:"/contractWrite/generateIssue",generateReport:"/contractWrite/generateReport",handleReport:"/contractWrite/handleReport",contractReport:"/contractWrite/contractReport",documentList:"/document/list",updateSecondLevel:"/contractWrite/updateSecondLevel",contractDistributeList:"/contractDistribute/list",updateManagerPerson:"/contractDistribute/updateManagerPerson",updateMajorDepartment:"/contractDistribute/updateMajorDepartment",contractReportReview:"/contract/contractReportReview",contractReportBatch:"/contract/contractReportBatch",contractFormalReview:"/contract/contractFormalReview",contractAuditReview:"/contract/contractAuditReview",contractExamineList:"/contractExamine/list",batchList:"/contractConfig/batchList",contractFormatList:"/contractFormat/list",calibrationPaperReport:"/contractFormat/calibrationPaperReport",contractFormatReport:"/contractFormat/contractReport",saveContractFunds:"/contractGenerate/saveContractFunds",contractFundsList:"/contractGenerate/contractFundsList",deleteContractFunds:"/contractGenerate/deleteContractFunds",updateOrderNo:"/contractGenerate/updateOrderNo",contractConfigBudget:"/contractGenerate/getContractBudget",queryBudgetFundInfo:"/contractGenerate/queryBudgetFundInfo",queryBudgetFundInfoAdd:"/contractGenerate/budget/content",saveVersionNo:"/contractConfig/saveVersionNo",queryContractFundsList:"/contractGenerate/queryContractFundsList",uploadSubject:"/contract/uploadSubject",downloadImportTemplate:"/core/excelBusiness/downloadImportTemplate",queryModelMultiplexSize:"/contractConfig/queryModelMultiplexSize",getTotalFunds:"/contractConfig/contract/getTotalFunds",deleteFundModelList:"/contractConfig/deleteFundModelList",downloadContractGet:"/downloadContract/download",downloadEstimate:"/downloadContract/estimate",updateContractState:"/contractWrite/updateContractState",downloadContractResearchersTemplate:"/contractWrite/downloadContractResearchersTemplate",allotPlanImportExcel:"/contractWrite/allotPlan/import",importContractInfo:"/contractWrite/import/baseInfo",deleteResearcher:"/contractWrite/researcher/delete",updateResearcher:"/contractWrite/researcher/update",createResearcher:"/contractWrite/researcher/create",reuseContractFund:"/contractConfig/cloneFundsTemplate",changeManagePerson:"/contractConfig/changeManagePerson",templatelist:"downloadContract/template/list",addtemplate:"downloadContract/template/add",updatemplate:"downloadContract/template/update",downloadtemplate:"downloadContract/template/download",dowloadftl:"downloadContract/template/ftl/download",deletemplate:"downloadContract/template/del",enabletemplate:"downloadContract/template/enable",contractWordTemplate:"downloadContract/template/generate",changeState:"contractExamine/changeState",getStateTypeList:"contractConfig/getStateTypeList",queryUndertakeUnits:"contractGenerate/queryUndertakeUnits",queryUndertakePerson:"contractGenerate/queryUndertakePerson",queryManageUnits:"contractGenerate/queryManageUnits",querySubunits:"contractGenerate/querySubunits",querySubunitsUser:"/contractGenerate/querySubunitsUser",queryContractSubmittedDocument:"contractConfig/queryContractSubmittedDocument",queryAllUnits:"contractGenerate/queryAllUnits",queryContractBasicInfo:"/contractWrite/queryContractBasicInfo",queryConfigInfo:"/contractConfig/queryConfigInfo",querySysDocumentCheck:"contractConfig/querySysDocumentCheck",signContract:"/contractExamine/signContract",exportExcel:"/contract/export/excel",exportFoundsExcel:"/contract/export/unit-funds",queryFundState:"/contractConfig/queryFundState",fundsTemplateClone:"/funds/template/clone",recallExamine:"/contract/recallExamine",participantTip:"/contractWrite/participantTip",backReport:"/contract/back/report",outOfWorkflowContract:"/contract/outOfWorkflow"}});function h(t){return f["b"].delete(y.contract.deleteDocument,{params:{documentIds:t}})}var C=a("2f62"),g=a("0f88"),M={components:{UploadPopup:u},data:function(){return{propType:[{name:"专利",id:"0"},{name:"软件著作",id:"1"},{name:"其它",id:"2"}],appliCtion:[{name:"报奖",id:"0"},{name:"申请补助",id:"1"},{name:"其它",id:"2"}],formModel:{contractNo:"",contractName:"",intellectualPropertyType:"0",application:"0",applicationDescription:"",applicant:"",materials:"",material:"",returnfile:""},applicant:{},materials:{},material:{},returnfile:{},text:""}},mounted:function(){this.$route.query.id&&this.getdatainfo(),this.CloseCollapsed()},methods:Object(n["a"])({},Object(C["b"])(["CloseCollapsed","ChangeCollapsed"]),{getdatainfo:function(){var t=this,e={rewardId:this.$route.query.id};Object(c["s"])(e).then((function(e){e.success&&(t.formModel.contractNo=e.data.contractNo,t.formModel.contractName=e.data.contractName,t.formModel.intellectualPropertyType=e.data.intellectualPropertyType,t.formModel.application=e.data.application,t.formModel.applicationDescription=e.data.applicationDescription,t.formModel.applicant=e.data.applicantForm,t.formModel.materials=e.data.materials,t.formModel.material=e.data.materialUpload,t.formModel.returnfile=e.data.materialReturn,t.materials.materialsUrl=e.data.materialsUrl,t.materials.materials=e.data.materials,t.materials.materialsId=e.data.materialsId,t.applicant.applicantForm=e.data.applicantForm,t.applicant.applicantFormUrl=e.data.applicantFormUrl,t.applicant.applicantFormId=e.data.applicantFormId,t.material.materialUpload=e.data.materialUpload,t.material.materialUploadUrl=e.data.materialUploadUrl,t.material.materialUploadId=e.data.materialUploadId,t.returnfile.materialReturn=e.data.materialReturn,t.returnfile.materialReturnUrl=e.data.materialReturnUrl,t.returnfile.materialReturnId=e.data.materialReturnId)}))},upload:function(t){this.text=t,this.formModel[t]?this.$message.info("当前字段为单个上传"):this.$refs.UploadPopup.show()},getuploadinfo:function(t){"applicant"==this.text?(this.formModel.applicant=t.annexName,this.applicant.applicantForm=t.annexName,this.applicant.applicantFormUrl=t.annexUrl,this.applicant.applicantFormId=t.id):"materials"==this.text?(this.formModel.materials=t.annexName,this.materials.materials=t.annexName,this.materials.materialsUrl=t.annexUrl,this.materials.materialsId=t.id):"material"==this.text?(this.formModel.material=t.annexName,this.material.materialUpload=t.annexName,this.material.materialUploadUrl=t.annexUrl,this.material.materialUploadId=t.id):"returnfile"==this.text&&(this.formModel.returnfile=t.annexName,this.returnfile.materialReturn=t.annexName,this.returnfile.materialReturnUrl=t.annexUrl,this.returnfile.materialReturnId=t.id)},deletefile:function(t,e){var a=this;h(t).then((function(t){t.success&&(a.formModel[e]="",a.text={})}))},dowloadfile:function(t){Object(g["a"])(t)},handleComplete:function(){var t=this,e="";e=this.$route.query.id?this.$route.query.id:"";var a={id:e,contractNo:this.formModel.contractNo,contractName:this.formModel.contractName,intellectualPropertyType:this.formModel.intellectualPropertyType,application:this.formModel.application,applicationDescription:this.formModel.applicationDescription,materialsUrl:this.materials.materialsUrl,materials:this.materials.materials,materialsId:this.materials.materialsId,applicantForm:this.applicant.applicantForm,applicantFormUrl:this.applicant.applicantFormUrl,applicantFormId:this.applicant.applicantFormId,materialUpload:this.material.materialUpload,materialUploadUrl:this.material.materialUploadUrl,materialUploadId:this.material.materialUploadId,materialReturn:this.returnfile.materialReturn,materialReturnUrl:this.returnfile.materialReturnUrl,materialReturnId:this.returnfile.materialReturnId};Object(c["y"])(a).then((function(e){e.success?t.$router.go(-1):t.$message.error(e.msg)}))},handleCancel:function(){this.$router.push("property-config")}})},b=M,x=(a("0249"),Object(m["a"])(b,o,r,!1,null,"4a40477a",null));e["default"]=x.exports},dd99:function(t,e,a){}}]);