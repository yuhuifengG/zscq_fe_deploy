(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17a2a91a"],{"0da9":function(e,t,a){"use strict";var r=a("a4b0"),s=a.n(r);s.a},1348:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=this,a=t.$createElement,r=t._self._c||a;return r("div",{class:["user-layout-wrapper",t.device],attrs:{id:"userLayout"}},[t._m(0),r("div",{staticClass:"mainReister"},[r("div",{staticClass:"regContent"},[r("a-card",{staticClass:"card",attrs:{title:"单位用户信息注册",bordered:!1}},[r("a-steps",{staticClass:"steps",attrs:{current:t.currentTab}},[r("a-step",{attrs:{title:"证明文件"}}),r("a-step",{attrs:{title:"单位信息"}}),r("a-step",{attrs:{title:"财务信息"}}),r("a-step",{attrs:{title:"账号信息"}})],1),r("p",[t._v("1、本系统用户注册只针对未在本信息平台注册的一级法人单位创建注册账号。若二级以下单位（含二级单位）需申报课题，请向本单位一级科研管理部门提出申请，由其为您创建登录账号。")]),r("p",[t._v("2、如本单位已注册，无需重复注册。")])],1),r("div",{staticClass:"regStep"},[r("step1",{directives:[{name:"show",rawName:"v-show",value:0===t.currentTab,expression:"currentTab === 0"}],on:{nextStep:t.nextStep}}),r("step2",{directives:[{name:"show",rawName:"v-show",value:1===t.currentTab,expression:"currentTab === 1"}],on:{nextStep:t.nextStep,prevStep:t.prevStep}}),r("step3",{directives:[{name:"show",rawName:"v-show",value:2===t.currentTab,expression:"currentTab === 2"}],on:{nextStep:t.nextStep,prevStep:t.prevStep}}),r("step4",{directives:[{name:"show",rawName:"v-show",value:3===t.currentTab,expression:"currentTab === 3"}],on:{prevStep:t.prevStep,finish:t.finish}})],1)],1),r("a-modal",{attrs:{centered:"centered",maskClosable:!1,closable:t.closable},on:{cancel:t.handleStepOk},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[r("div",{attrs:{slot:"title"},slot:"title"},[t._v("单位注册须知")]),r("template",{slot:"footer"},[r("div",{style:{textAlign:"right"}},[r("a-button",{key:"submit",attrs:{type:"primary"},on:{click:t.handleStepOk}},[t._v("同意并悉知")])],1)]),r("a-form",{attrs:{layout:"vertical","auto-form-create":function(t){e.form=t}}},[r("div",{staticClass:"step-form-wrapper"},[r("p",{staticClass:"titleBar"},[t._v("铁路科技管理信息平台申报单位注册须知")]),r("p",[t._v("铁路科技管理信息平台申报单位注册须知铁路科技管理信息平台申报单位注册须知铁路科技管理信息平台申报单位注册须知")]),r("p",[t._v("铁路科技管理信息平台申报单位注册须知铁路科技管理信息平台申报单位注册须知铁路科技管理信息平台申报单位注册须知")]),r("p",[t._v("铁路科技管理信息平台申报单位注册须知铁路科技管理信息平台申报单位注册须知铁路科技管理信息平台申报单位注册须知")]),r("p",[t._v("铁路科技管理信息平台申报单位注册须知铁路科技管理信息平台申报单位注册须知铁路科技管理信息平台申报单位注册须知")]),r("p",[t._v("铁路科技管理信息平台申报单位注册须知铁路科技管理信息平台申报单位注册须知铁路科技管理信息平台申报单位注册须知")]),r("p",[t._v("铁路科技管理信息平台申报单位注册须知铁路科技管理信息平台申报单位注册须知铁路科技管理信息平台申报单位注册须知")])])])],2)],1)])},s=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"top"},[r("div",{staticClass:"header"},[r("a",{attrs:{href:"/"}},[r("img",{staticClass:"logo",attrs:{src:a("17b2"),alt:"logo"}})])])])}],i=(a("4160"),a("c975"),a("b64b"),a("159b"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",{staticClass:"card",attrs:{title:"证明文件",bordered:!1}},[a("p",[e._v("(1)已签字盖章的注册登记表（填写信息必须与注册填报信息一致）")]),a("p",[e._v("(2)本单位营业执照(可注明仅用于铁路科技管理信息平台注册认证使用)。")]),a("p",[e._v("(请将上述两件通过彩扫后合成一个PDF文件，系统仅能上传PDF格式的文件)。")]),a("p",[e._v(" 下载注册登记表： "),a("a",{on:{click:e.uploadRegis}},[e._v("下载（铁路科技管理平台单位信息注册登记表）")])]),a("a-form",{staticStyle:{margin:"40px auto 0"},attrs:{form:e.form}},[a("a-upload-dragger",{directives:[{name:"decorator",rawName:"v-decorator",value:["multipartFile",{normalize:e.normFile},{required:!0,message:"请上传文件"}],expression:"[\n          'multipartFile',\n          { normalize:normFile},\n          {\n            required: true,\n            message: '请上传文件'\n          }\n        ]"}],staticStyle:{"margin-left":"30px"},attrs:{name:"file",multiple:!1,accept:".pdf",fileList:e.fileList,showUploadList:!1,"before-upload":e.beforeUpload},on:{change:e.uploadChange}},[a("div",[a("a-icon",{attrs:{type:"upload"}}),e._v("文件拖入此处上传 ")],1)]),a("div",{staticClass:"alertMsg"},[e._v(e._s(e.msg))]),e.newFile.name?a("div",{staticClass:"upload-list"},[a("a",{staticClass:"files"},[e._v(e._s(e.newFile.name))]),a("a-icon",{staticClass:"upload-icon",attrs:{type:"delete"},on:{click:e.handleDelete}})],1):e._e(),a("a-row",{staticClass:"form-row",attrs:{gutter:16}},[a("a-col",{attrs:{lg:12,md:12,sm:24}},[a("a-form-item",[a("a-button",{on:{click:e.back}},[e._v("取消注册")])],1)],1),a("a-col",{staticStyle:{"text-align":"right"},attrs:{lg:{span:12},md:{span:12},sm:24}},[a("a-form-item",[a("a-button",{attrs:{type:"primary"},on:{click:e.nextStep}},[e._v("下一步")])],1)],1)],1)],1)],1)],1)}),n=[],o=a("4b90"),l={name:"Step1",data:function(){return{loading:!1,imageUrl:"",fileList:[],file:{},newFile:{},form:this.$form.createForm(this),msg:""}},mounted:function(){},methods:{back:function(){this.$router.push({name:"login"})},nextStep:function(){var e=this,t=this.form.validateFields;t((function(t,a){a.multipartFile=e.fileList[0],!t&&a.multipartFile?e.$emit("nextStep",a):e.msg="请上传文件"}))},uploadChange:function(e){this.fileList=[e.file],this.fileList&&(this.msg="")},beforeUpload:function(e){return e&&"application/pdf"==e.type?(this.validatedFile=!0,this.newFile=e,!1):(this.$notification.warn({message:"验证失败",description:"请上传PDF格式文件"}),!1)},normFile:function(e){return this.newFile},uploadRegis:function(){var e=o["a"];window.open(e+"/system/dept/download-registry","_blank")},handleDelete:function(){this.newFile={}}}},d=l,c=(a("bd45"),a("2877")),u=Object(c["a"])(d,i,n,!1,null,"24925520",null),m=u.exports,p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{staticClass:"card",attrs:{title:"单位信息",bordered:!1}},[a("a-form",{staticClass:"form",attrs:{form:e.form},on:{submit:e.handleSubmit}},[a("a-row",{staticClass:"form-row",attrs:{gutter:16}},[a("a-col",{attrs:{lg:6,md:12,sm:24}},[a("a-form-item",{attrs:{label:"单位全称"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:e.requiredField2,message:"请输入单位名称",whitespace:!0},{validator:e.repeatAlert,message:"该单位名称已存在"}],validateTrigger:"blur"}],expression:"[\n              'name',\n              {rules: [{ required: requiredField2, message: '请输入单位名称', whitespace: true},{validator: repeatAlert, message:'该单位名称已存在'}], validateTrigger: 'blur'}\n            ]"}],attrs:{placeholder:"单位名称需与单位公章一样"}})],1)],1),a("a-col",{attrs:{xl:{span:7,offset:1},lg:{span:8},md:{span:12},sm:24}},[a("a-form-item",{attrs:{label:"单位简称"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["shortName",{rules:[{required:e.requiredField2,message:"请输入单位简称！"}]}],expression:"['shortName', {rules: [{required: requiredField2, message: '请输入单位简称！'}]}]"}],attrs:{placeholder:"请输入单位简称"}})],1)],1),a("a-col",{attrs:{xl:{span:9,offset:1},lg:{span:10},md:{span:24},sm:24}},[a("a-form-item",{attrs:{label:"组织机构代码/统一社会信用代码"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["creditCode",{rules:[{required:e.requiredField2,message:"请输入组织机构代码/统一社会信用代码！"}]}],expression:"['creditCode', {rules: [{required: requiredField2, message: '请输入组织机构代码/统一社会信用代码！'}]}]"}],attrs:{placeholder:"组织机构代码/统一社会信用代码"}})],1)],1)],1),a("a-row",{staticClass:"form-row",attrs:{gutter:16}},[a("a-col",{attrs:{lg:6,md:12,sm:24}},[a("a-form-item",{attrs:{label:"单位地址"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["address",{rules:[{required:e.requiredField2,message:"请输入单位地址！"}]}],expression:"['address', {rules: [{required: requiredField2, message: '请输入单位地址！'}]}]"}],attrs:{placeholder:"请输入单位地址"}})],1)],1),a("a-col",{attrs:{xl:{span:7,offset:1},lg:{span:8},md:{span:12},sm:24}},[a("a-form-item",{attrs:{label:"法定代表人"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["legalPerson",{rules:[{required:e.requiredField2,message:"请输入法定代表人！"}]}],expression:"['legalPerson', {rules: [{required: requiredField2, message: '请输入法定代表人！'}]}]"}],attrs:{placeholder:"请输入法定代表人"}})],1)],1),a("a-col",{attrs:{xl:{span:9,offset:1},lg:{span:10},md:{span:24},sm:24}},[a("a-form-item",{attrs:{label:"单位成立时间"}},[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["establishTime",{normalize:e.parseDateValue,rules:[{required:e.requiredField2,message:"请输入单位成立时间！"}]}],expression:"['establishTime', {\n              normalize:parseDateValue,\n              rules: [\n                {required: requiredField2, message: '请输入单位成立时间！'}\n              ]\n            }]"}],staticStyle:{width:"100%"},attrs:{format:"YYYY-MM-DD",placeholder:"请输入单位成立时间"}})],1)],1)],1),a("a-row",{staticClass:"form-row",attrs:{gutter:16}},[a("a-col",{attrs:{lg:6,md:12,sm:24}},[a("a-form-item",{attrs:{label:"注册资金(万元)"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["registeredFund",{rules:[{required:e.requiredField2,message:"请输入注册资金！"},{pattern:"^\\d+$",message:"注册资金必须为数字！"}]}],expression:"['registeredFund', {\n              rules: [\n                { required: requiredField2, message: '请输入注册资金！' },\n                { pattern: '^\\\\d+$', message: '注册资金必须为数字！' }\n              ]\n            }]"}],attrs:{placeholder:"请输入注册资金(万元)"}})],1)],1),a("a-col",{attrs:{xl:{span:7,offset:1},lg:{span:8},md:{span:12},sm:24}},[a("a-form-item",{attrs:{label:"是否为独立法人单位"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["unitLegalFlag",{initialValue:"1",rules:[{required:e.requiredField2,message:"请选择是否为独立法人单位！"}]}],expression:"['unitLegalFlag', {initialValue: '1',rules: [{required: requiredField2, message: '请选择是否为独立法人单位！'}]}]"}],attrs:{disabled:"",placeholder:"请选择是否为独立法人单位"}},[a("a-select-option",{attrs:{value:"1"}},[e._v("是")])],1)],1)],1),a("a-col",{attrs:{xl:{span:9,offset:1},lg:{span:10},md:{span:24},sm:24}},[a("a-form-item",{attrs:{label:"单位性质"}},[a("a-select",{staticStyle:{width:"100%"},attrs:{"label-in-value":"",placeholder:"请选择单位性质"},on:{change:e.natureChange}},e._l(e.natureData,(function(t,r){return a("a-select-option",{key:t.id},[e._v(e._s(t.name))])})),1)],1)],1)],1),a("a-row",{staticClass:"form-row",attrs:{gutter:16}},[a("a-col",{attrs:{lg:6,md:12,sm:24}},[a("a-form-item",{attrs:{label:"联系人"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["linkPerson",{rules:[{required:e.requiredField2,message:"请输入联系人！"}]}],expression:"['linkPerson', {rules: [{required: requiredField2, message: '请输入联系人！'}]}]"}],attrs:{placeholder:"请输入联系人"}})],1)],1),a("a-col",{attrs:{xl:{span:7,offset:1},lg:{span:8},md:{span:12},sm:24}},[a("a-form-item",{attrs:{label:"联系电话"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["linkTel",{rules:[{required:e.requiredField,message:"请输入联系人电话！"}]}],expression:"['linkTel',{rules: [{required: requiredField, message: '请输入联系人电话！'}]}]"}],attrs:{placeholder:"请输入联系电话"}})],1)],1),a("a-col",{attrs:{xl:{span:9,offset:1},lg:{span:10},md:{span:24},sm:24}},[a("a-form-item",{attrs:{label:"联系手机"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["linkMobile",{rules:[{required:e.requiredField2,message:"请输入联系人手机！"},{pattern:"^[1][3,4,5,6,7,8,9][0-9]{9}$",message:"联系人手机必须为11位数字！"}]}],expression:"['linkMobile', {\n              rules: [\n                { required: requiredField2, message: '请输入联系人手机！' },\n                { pattern: '^[1][3,4,5,6,7,8,9][0-9]{9}$', message: '联系人手机必须为11位数字！' }\n              ]\n            }]"}],attrs:{placeholder:"请输入联系手机"}})],1)],1)],1),a("a-row",{staticClass:"form-row",attrs:{gutter:16}},[a("a-col",{attrs:{lg:6,md:12,sm:24}},[a("a-form-item",{attrs:{label:"联系人邮箱"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["linkEmail",{rules:[{type:"email",message:"邮箱格式错误"},{required:e.requiredField2,message:"请输入联系人邮箱",whitespace:!0}]}],expression:"['linkEmail', {\n              rules: [\n                {\n                  type: 'email',\n                  message: '邮箱格式错误',\n                },\n                {\n                  required: requiredField2,\n                  message: '请输入联系人邮箱', whitespace: true\n                }\n              ]\n            }\n            ]"}],attrs:{placeholder:"用户接收系统邮件通知、重置密码"}})],1)],1)],1),a("a-row",{staticClass:"form-row",attrs:{gutter:16}},[a("a-col",{attrs:{lg:12,md:12,sm:24}},[a("a-form-item",[a("a-button",{on:{click:e.back}},[e._v("取消注册")])],1)],1),a("a-col",{staticStyle:{"text-align":"right"},attrs:{lg:{span:12},md:{span:12},sm:24}},[a("a-form-item",[a("a-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"primary"},on:{click:e.prevStep}},[e._v("上一步")]),a("a-button",{attrs:{type:"primary"},on:{click:e.nextStep}},[e._v("下一步")])],1)],1)],1)],1)],1)},f=[],v=a("c1df"),g=a.n(v),h=a("8593"),b={name:"Step1",data:function(){return{requiredField:!1,requiredField2:!0,checkedNature:{},natureData:[],form:this.$form.createForm(this)}},created:function(){this.getData()},methods:{getData:function(){var e=this;Object(h["N"])().then((function(t){e.natureData=t.data})).catch((function(e){}))},repeatAlert:function(e,t,a){this.form;Object(h["kb"])(t).then((function(e){a()})).catch((function(e){var t="该单位名称已被注册";a(t)}))},natureChange:function(e){this.checkedNature=e},parseDateValue:function(e){return e&&!g.a.isMoment(e)?g()(e):e},back:function(){this.$router.push({name:"login"})},handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,a){var r=t.checkedNature;Object.keys(r).length>0&&(a.natureCode=r.key,a.natureName=r.label),e||t.$notification["error"]({message:"Received values of form:",description:a})}))},validate:function(e,t,a){var r=/^user-(.*)$/;r.test(t)||a(new Error("需要以 user- 开头")),a()},prevStep:function(){this.$emit("prevStep")},nextStep:function(){var e=this,t=this.form.validateFields;t((function(t,a){var r=e.checkedNature;Object.keys(r).length>0&&(a.natureCode=r.key,a.natureName=r.label),t||e.$emit("nextStep",a)}))}}},w=b,q=Object(c["a"])(w,p,f,!1,null,"77e8d27a",null),F=q.exports,x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",{staticClass:"card",attrs:{title:"财务信息",bordered:!1}},[a("a-form",{staticClass:"form",attrs:{form:e.form},on:{submit:e.handleSubmit}},[a("a-row",{staticClass:"form-row",attrs:{gutter:16}},[a("a-col",{attrs:{lg:6,md:12,sm:24}},[a("a-form-item",{attrs:{label:"单位开户银行"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["bankDeposit",{rules:[{required:e.requiredField2,message:"请输入单位开户银行！"}]}],expression:"\n              ['bankDeposit', {rules: [{required: requiredField2, message: '请输入单位开户银行！'}]}]"}],attrs:{placeholder:"单位开户银行"}})],1)],1),a("a-col",{attrs:{xl:{span:7,offset:1},lg:{span:8},md:{span:12},sm:24}},[a("a-form-item",{attrs:{label:"单位开户名"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["bankName",{rules:[{required:e.requiredField2,message:"请输入单位开户名！"}]}],expression:"['bankName', {rules: [{required: requiredField2, message: '请输入单位开户名！'}]}]"}],attrs:{placeholder:"请输入单位开户名"}})],1)],1),a("a-col",{attrs:{xl:{span:9,offset:1},lg:{span:10},md:{span:24},sm:24}},[a("a-form-item",{attrs:{label:"银行账号"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["bankAccount",{rules:[{required:this.requiredField2,message:"请输入银行账号！"},{pattern:"^[0-9-]+$",message:"银行账号格式错误"}]}],expression:"['bankAccount', {\n                  rules: [\n                    { required: this.requiredField2, message: '请输入银行账号！' },\n                    { pattern: '^[0-9-]+$', message: '银行账号格式错误' }\n                  ]\n                }]"}],attrs:{placeholder:"*请输入银行账号"}})],1)],1)],1),a("a-row",{staticClass:"form-row",attrs:{gutter:16}},[a("a-col",{attrs:{lg:6,md:12,sm:24}},[a("a-form-item",{attrs:{label:"能否开具增值税专用发票："}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["vatSpecialInvoice",{rules:[{required:e.requiredField2,message:"请选择能否开具增值税专用发票！"}]}],expression:"['vatSpecialInvoice', {rules: [{required: requiredField2, message: '请选择能否开具增值税专用发票！'}]}]"}],attrs:{placeholder:"能否开具增值税专用发票："}},[a("a-select-option",{attrs:{value:"1"}},[e._v("能")]),a("a-select-option",{attrs:{value:"0"}},[e._v("否")])],1)],1)],1)],1),a("a-row",{staticClass:"form-row",attrs:{gutter:16}},[a("a-col",{attrs:{lg:12,md:12,sm:24}},[a("a-form-item",[a("a-button",{on:{click:e.back}},[e._v("取消注册")])],1)],1),a("a-col",{staticStyle:{"text-align":"right"},attrs:{lg:{span:12},md:{span:12},sm:24}},[a("a-form-item",[a("a-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"primary"},on:{click:e.prevStep}},[e._v("上一步")]),a("a-button",{attrs:{type:"primary"},on:{click:e.nextStep}},[e._v("下一步")])],1)],1)],1)],1)],1)],1)},k=[],S={name:"Step4",data:function(){return{requiredField2:!0,form:this.$form.createForm(this)}},methods:{back:function(){this.$router.push({name:"login"})},handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,a){e||t.$notification["error"]({message:"Received values of form:",description:a})}))},validate:function(e,t,a){var r=/^user-(.*)$/;r.test(t)||a(new Error("需要以 user- 开头")),a()},prevStep:function(){this.$emit("prevStep")},nextStep:function(){var e=this,t=this.form.validateFields;t((function(t,a){t||e.$emit("nextStep",a)}))}}},y=S,_=(a("22e7"),Object(c["a"])(y,x,k,!1,null,"42470150",null)),C=_.exports,N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",{staticClass:"card",attrs:{title:"账号信息",bordered:!1}},[a("a-form",{staticClass:"form",attrs:{form:e.form},on:{submit:e.handleSubmit}},[a("a-row",{staticClass:"form-row",attrs:{gutter:16}},[a("a-col",{attrs:{lg:6,md:12,sm:24}},[a("a-form-item",{attrs:{label:"用户名"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["loginName",{rules:[{required:e.requiredField2,message:"用户名不能小于4位",whitespace:!0}]}],expression:"[\n              'loginName',\n              {rules: [{ required: requiredField2, message: '用户名不能小于4位', whitespace: true}]}\n            ]"}],attrs:{placeholder:"请输入用户名"}})],1)],1),a("a-col",{attrs:{xl:{span:7,offset:1},lg:{span:8},md:{span:12},sm:24}},[a("a-form-item",{attrs:{label:"登录密码"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["checkingCode",{rules:[{required:e.requiredField2,message:"请输入密码！"},{validator:e.validatePasswordRule},{validator:e.validateToNextPassword}],validateTrigger:"blur"}],expression:"[ 'checkingCode', {rules: [{ required: requiredField2, message: '请输入密码！' },{validator: validatePasswordRule},{ validator: validateToNextPassword}], validateTrigger: 'blur'} ]"}],attrs:{type:"password",autocomplete:"false",placeholder:"请输入登录密码"}})],1)],1),a("a-col",{attrs:{xl:{span:9,offset:1},lg:{span:10},md:{span:24},sm:24}},[a("a-form-item",{attrs:{label:"请再次确认密码"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["confirm",{rules:[{required:e.requiredField2,message:"必须一致"},{validator:e.compareToFirstPassword}],validateTrigger:"blur"}],expression:"[ 'confirm', {rules: [{ required: requiredField2, message: '必须一致' },\n            {\n              validator: compareToFirstPassword,\n            }], validateTrigger: 'blur'} ]"}],attrs:{type:"password",autocomplete:"false",placeholder:"请输入登录密码"},on:{blur:e.handleConfirmBlur}})],1)],1)],1),a("a-row",{staticClass:"form-row",attrs:{gutter:16}},[a("a-col",{attrs:{lg:12,md:12,sm:24}},[a("a-form-item",[a("a-button",{on:{click:e.back}},[e._v("取消注册")])],1)],1),a("a-col",{staticStyle:{"text-align":"right"},attrs:{lg:{span:12},md:{span:12},sm:24}},[a("a-form-item",[a("a-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"primary"},on:{click:e.prevStep}},[e._v("上一步")]),a("a-button",{attrs:{type:"primary"},on:{click:e.finish}},[e._v("提交")])],1)],1)],1)],1)],1)],1)},$=[],D=(a("a623"),a("6821")),T=a.n(D),O={name:"Step4",data:function(){return{requiredField2:!0,confirmDirty:!1,form:this.$form.createForm(this)}},methods:{handleConfirmBlur:function(e){var t=e.target.value;this.confirmDirty=this.confirmDirty||!!t},validatePasswordRule:function(e,t,a){if(t)if((t+"").length<8)a(new Error("密码长度至少为8位"));else{var r=[/[A-Za-z]/g,/[0-9]/g,/[!@#$%^&*_-]/g];r.every((function(e){return e.test(t)}))?a():a(new Error("密码中须包含大写字母、小写字母、数字、特殊符号中的三种"))}else a()},compareToFirstPassword:function(e,t,a){var r=this.form;t&&t!==r.getFieldValue("checkingCode")?a("两次输入不一致"):a()},validateToNextPassword:function(e,t,a){var r=this.form;t&&this.confirmDirty&&r.validateFields(["confirm"],{force:!0}),a()},back:function(){this.$router.push({name:"login"})},handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,a){e||t.$notification["error"]({message:"Received values of form:",description:a})}))},validate:function(e,t,a){var r=/^user-(.*)$/;r.test(t)||a(new Error("需要以 user- 开头")),a()},prevStep:function(){this.$emit("prevStep")},finish:function(){var e=this,t=this.form.validateFields;t((function(t,a){delete a.confirm,t||(a.checkingCode=T()(a.checkingCode),e.$emit("finish",a))}))}}},P=O,E=(a("0da9"),Object(c["a"])(P,N,$,!1,null,"d80e6058",null)),L=E.exports,j=a("7ded"),R=a("ac0d"),M={components:{Step1:m,Step2:F,Step3:C,Step4:L},mixins:[R["c"]],data:function(){return{visible:!1,closable:!1,currentTab:0,visibleAlert:!1,formData:{},paramsData:{},data:{}}},methods:{uploadRegis:function(){var e=window.document.location.href,t=e.substring(0,e.indexOf("test"));window.open(t+"srmis/system/dept/download-registry","_blank")},handleStepOk:function(){this.visible=!1},nextStep:function(e){this.currentTab<3&&(this.formData=Object.assign(this.formData,e),this.currentTab+=1)},prevStep:function(){this.currentTab>0&&(this.currentTab-=1)},finish:function(e){var t=e,a=this.formData;this.$store.state.phone=a.linkMobile,a.establishTime=g()(a.establishTime).format("YYYY-MM-DD");var r=new FormData;Object.keys(a).forEach((function(e){r.append(e,a[e])})),Object.keys(t).forEach((function(e){r.append(e,t[e])}));var s=this;this.$confirm({title:"确定保存注册信息？",onOk:function(){Object(j["g"])(r).then((function(e){s.$router.push({path:"/:unit/user/register-result"})})).catch((function(e){s.$message.error({content:"注册失败"+e.message,duration:4,onClose:function(){s.$router.push({path:"/"})}})}))}})}},mounted:function(){document.body.classList.add("userLayout")},beforeDestroy:function(){document.body.classList.remove("userLayout")}},A=M,Y=(a("5d18"),Object(c["a"])(A,r,s,!1,null,null,null));t["default"]=Y.exports},"17b2":function(e,t,a){e.exports=a.p+"img/header-logo.bb08593e.png"},"22e7":function(e,t,a){"use strict";var r=a("ed47"),s=a.n(r);s.a},"2a88":function(e,t,a){},"5d18":function(e,t,a){"use strict";var r=a("eeab"),s=a.n(r);s.a},a4b0:function(e,t,a){},bd45:function(e,t,a){"use strict";var r=a("2a88"),s=a.n(r);s.a},ed47:function(e,t,a){},eeab:function(e,t,a){}}]);